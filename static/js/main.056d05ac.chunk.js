(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wIaEggzccu7FwAAEB9JREFUeNrVm2mQHdV1x3/n3u63zK7RSEgIMBiM2GwWYyAE0OJUwJWwmJFJgtlN7CRmCUucipNKKpWK4y9GlRgcMHYJs1TFQUqxuJwyIdJg1iKshgSECcEWIJhBy6xv6b735MPtnk2zvJFnJPOv6po3793ue/6n73LuWYRfAd09HyLqAFAxRsCI4Pp1t7ZFbeCx6uUIgc+AnAQcAxwCLAbagEL2qDowCOwAfgm8Bryg8KxJ5eficd4JlJwgYgGvKl4ARNm4eslec5C9Ir7lA8RYFEBVAnF1KoKqxuI5FZELgM8CRwGlvZSvBrwObAYeUPFPg08EA2osoIAPf2SvFDEnBVy4pQ8RDf2BiIgRxKt6VViCyBUCV2Wkx8OTSznW7+S+ddzfvK0Z950AW4ENChtEpRdBQA06+nxUhE2ru+ZfAet6ejN5lOyDqOBQ7RLkRuCPgEXjCPi83VwVPUkpUz1rN3A7cAtoH2BB8naAsnH10vlRwCU/2U61aEGzZ4u1TeVON1jpM0btV0T4W2BJJqjLBDWzPXcv4bPLZrJ/CPyNTeX2vmPqvvON2CrqUBARRD33rzlg7xWwbksvOtZCBLEoKcJK4PvAb04h1L7AZGU/peiXQF4XiFTVZW0QI2xcNf3aMO2b6t7SFygHViIYg5gU0cuB5zPyadY82ofkyfqKss8pcLogzwt6hUBqRIwEgGZc5qKA7i29yCgdESNGOuMmh/pbQO4CytkbiFi44d4ITCaDA0ogGxTWL1rW5cTYsEACIoHTdJqcgEt+sp2Rgs1/ELUGmzirVu4DuSjT+L4c7o0inxYR6P0oF3srTpzmv1GuO+49e/mEm6LJT6kUo9FhbwScU6vWbALOAxIg3t9Mp0E+LRKQLyCUxOuFRoxTvABaLdo9bpowfNf19OKoouolMlZWdnWpiN73ESA/HnEm67kC9x12wGK1JhKvKomvZNv5RK0BcFHPDhyeYFWIBZzAt4AbP0LkxyOX+RZFbhKw6gad2BbUCJvOCsbS6BTweATwSASkAldm5NNGyMuoIbf/oBOXpTiT/UbBvwpsENsSoZrixmQVgHVb+rDiSRFD2NOPE+RpoIWJJuwepAXFYfH7dTMI9G1uCI7/Msg+BPwG8CpgEuo+0phNa5aGEaACDgM4NdIkqrVbM/KOsOLvAYOnSpFEi7SZAYqM7Gf6QlVLk8ehZBxagFt3jlTWLG1pVnUxku3z0r2lDy+KzeY9cA3wbcLwiabqzOAZ1iYOs+/QXXiQT0TvUDJTTwPNjJGFgAh4FQqSslvb+PrgtVS0jMVP7jIFIlWuFeFWwDrBGQ+yrqc3O9GiwAEivAQsY5qhn5M/PX6Bm5vvJG4/jeGWs3DxIjDjp4GAd+FaQJPBCFSdsv7NGlurizAyZV85l/cVPR6kFxCDaqQqiITxD1yXkZ/y7QtKjSKH2ve4oelOqkuvpr9jFTGKqQxhBocIywigHl9qRZtbwXsWAg5oioQnelOeG66wKE7xU482yTgtE+R64C8Bo4KLEBUFh7JcRL6c3WCnfopS1yLnFR6i0H4qA62rKFR34po7KPzXozQ9fA/a3BLajgxRPet3GT7vCqQ6Mml0zA88kCi8uLNOQWYdaTmnP1Tl28D7aHBoWEEQ4TKgK9PUlE9yWFplkJXRNiotZxHjQCxiDOIV0gRJUyRNIUkQ78NvRhAx2ed5usQQGUPNGz6ogRVBZ15r8lGwRITLJJzwrKmpTyuqFuSSrKGZ+m7FYyhJlRarJKYVNNO6ElYkETAWtVGYCvl8zM1xnb9LCZ6pRJW6V0xjy0zO7dIEb1L1qSmKoSycARyXiTqlAhQJW5+WGHJC7AdQcrccQTBjwiiojoTVaYFtI0WJBApGppv7UylAgeMilTOibPED5LysgZvpbotjUFt5LTmE8tBjOGMR9SgetQZGhnBLlpMcfSIMDaCSe7Tm/xIUr0rZwgFFcKpIY6PAAYjI+SBEw7ur0txRWjtOQzNoXChIlYeSczmz/+8oFTdTa1tLFIOp1vGHrGT46r/CdS6mpdSKJD6sMKawIIugANYKJ3YaHttZne39jR8FAGv6+r1I95beo0XkeYKTY1qzd+xuz4hp5bT4Zf6s+Q7i9lMZ7vwc9q130K4D8IuXIUkNFYPtew/ftXzMnziPUFXUOYwIdYVvvlHl55UmIpn1VJJzrKjqp2VdT9+lwN2MeV5nvd2P9DPkyxxm32Vd4QGOirfR0lxGVJE0GV38NIqRNJl8SJkP+kSFInFLG0mSECUV+rWJrw1cz4C2EpHO1mfGVS+NgJPGaWZGiDG4aoXejd9HRnbzvDTxDAU6TBvNUsl2gmjsUZqOGUZ7TXUKwVSoJlWkq4NDfusiCssPxlUrVChjcY0oPHuknBQRwlXQiL3qPT4qcMQffIUbjyjSHIHXcBp0mi+w8/m2lVgMRcyoEgSoqWf7rl38+388xkN3fJcV3VfRdtzJUBkIbqzZkTc6JgIOnsvbKFihT1p5Ly5z9gExQ6liZZxS5406FDD8bzrMz5Jh4mx2JngOi5o488CPc9YJR3DicUfw9/90B82LOyksXYFP6jS6HQAHRwTrb7xWZod3PNNb4Yw2R8XRqBEyJzhV2k3M40N93DH4C9pN8Mn0+4SLW1ZwuCuyK61x0edW8dJLr/DIow9z5BXX4eu1RhSQN+gyQOtcFKAKkRE+qCsVL8TWYGQBLmMwRihaS7uNabMRbTai3caUjMVYg7WWas1xztozcR9sIxkaAGsboZFzbTWMhagbhgGqDuo+PEkXxNjJPqkyGuZhLMoKIfzlnKO9o52igbRaQYxhtkPBOBSjRltOGAVA0UA8oa/53+omKFw9Puss70lVMdYwNDhEHSEqllHv57IGYAjJCQ1DBBKvLCkIZQOp+nA4UT/PV37wgd0uYW1xMZe3HETFpdS9R73HOUe5GPHoY08iSw4ibm0D15A1mKMWETIzSsxhD1NjObmrREspRtNwEpvv9+9UKZgYYsPFHQdzQ8fhGDG0F0vscHWKTSWWx2Ue3vw0D2x+io9d/ee4esM7QM51MCKEmJfQgAKE8PY764N8XBPe6QPvFRWDn8Owa1TCnSIc6wosNi1s27GLBOVEKTDoLc++8RaPbH6c+x/5KcsuvIrCgYfiRobCGtC4Aj6MgG3A0Q1JZQxSrfD2v9zBdSP9VOMy1bhEUzJCKanNqwJyKSMR0nFzP4/DDztFFy9n5eXXU1p+COngLpK4ONcutsm6nr71wJ8ygwt8MvxQP4NRmRXDvZz/s4c5atf/UZTxGS7zg9xTO/GzICjFYom4rZ0kSbDVEYaaO/jr06+lEpex6meTIue6PlJ4Xsb6mBVGPdXFB3LG9le4+anv0HTs8VS7ryVtbp834rMhbI8edY4YwQhseDthxMREzEp+PNcXIlGeR6jQwHFYVKlFRQ7Z9Utu7lmPP/9y+taeQ1T3wSe4D5FPhyYrvNjveOz9EZp90ogJkHu9KsBzUS0Zfr1YaN4KnDCrAlCSqMiFL/0bxeM/w44151DYOYCKhADIPoRCCPFFwksf1JF6go3N+LDfTLcK8LoZqG41xUKzEvLwAKb1XAjgjKW92s/Ru99m+OS1RFWHGgPGZk7QfXsZIziEd2shQ7PBMZhz3OzbSmoyb+2D2ZczLIKKF0OpPkKTUdLWDsS7sd/UkzqHy67UObzPDdeFuiBVpeYUaTwEZ4PE+pCiRKkqHp4oIK8SPMPTeIYkrAFxiZqH8sggqbGjq3OpWKRcjEfnoAjU6imVWm0uws0ZNvMKq2rodOZ+cm6v1I1/QhCiSExECBjcC3xzOgUoEPmU/lIHb7YcyCkvPs6uoz9JNJxQbGrihVde48nnXqZUDGeraq3OCcccyZmnnEC1Vh+Nxs4nPMFOWFGCF3c3tI3lrrB7i956IMoyrBTgbpCbmNEqFIxPePD4Czj1P79BfNSnqZ90KosMvPz6m6z/3n0s6gjb4a7d/Xz5i+v47dWnUk09prFj6pwgCkTwqU7Dj/oq+Jmdr1lr+kDuzr5zkYBqCI1vB+4Evs5YCtxE9YlQTqr8d9cn+OeTL+fae26h9tbZyNpzKRvoXNROR2twL4gIzbHBVKrY6jB2AdziEE5yn4rhxEKVV2sxBTttiCzn9F3gfcCi6uQLPb148vC4LhXkZWYIj0MwhoYKzXyydyuff2kTJ6c7+EGf5x9+UWNRHObh7lS5cnnMXxxaYihtOHQ1J2QpPRQ0pa/QxtdOvz6zBPdwjOZctiucANpLtjJJd8+HYATx3hIOYdeIzJwgkSuhEpdxCMt8hZ0//TFvbfkxURwDQlqrcNBpqzl87e+QVkYaPaTsHVTxxrKzqXO6Q1nO5RrgNsB6b5wRT7RpdRfrevpQVRfHVt7bNnjb0uXN64BVzHA+8GIoJ1XUOwbaFjFQbIWRITrPv4zisoN4955/ZFBi3ll0ML4wuCCRoUlaIHbpVD/kQ79n61D1tmPbypI478R4Nq5ekuUIqeKoI2lRli5v8op+VZBnmCVJyouAGKxLsd6x5NwvsnjNeSDCistuoP7+OxRqI3iXEHIVFxCyR5YYmewWGFTVa45sLpI4L3VJtJAN7tE7unt6838ilFSFKwTZwCxTITxF8PUattyMpgnqPaZQRF0askP2sZk8DrnsV4LeBRIppKBsyuoJxsZlSC4nqg2moS7H3AXcwmj66QxQDYST4F0TY8Ln3DjZP0gy2b+lyF0gNh3pT0Olx1ijUQVsWrMURRkGVNWLiLGmfBPoDxlLP51RCRPI7j/iOfkY9IeRab7ZIEZRPxwX8KpsXDNWTbKHlOvytHJBRA3eqBXlo5AsPYk8D4lKt1p1wZeuirBHKc0eS3O1NcnVoiF9yjlEulXJR0LKgud+7BU0ky1W9F/F+25vcCF1JJCvtuw5iPdQwI9OXpF9ygJ+xmIFv7yj6fcZWxPy3PxfF+SxkwhY35p0/h4m8qJKmPHhqDzGbQzTTtSQVp4nOalgjBHEqXeXIfIdoDnT+EIWSc2GvF4pAoYV/aoY+wNULd77wDtwmK6mcOaiqZ7e8XZ1KJpCU4WVIvI94Ax+PYqmngS+BGxFiVTUSRa0EoGNq6YvoZvxzW1cvZRaa5g3ql5VXQpi40VtW7VWXwX8MaHcdXwB08KkhQZ4JhZq7VDlT1J1Z7WZzq2qahWXhmAF1FqSGcnDHN5Y95beMbeTqsnOEg6kC7ghU8a+KpzcBdyu6C2IfChZvp6EClLU6KzE56wAgM9v7s2SIchqE8WA+CxrsQvhCkLp7ORAS6Ols+ODC+NLZ3O8DmwA3QD0CUYUNao6FjQ2hk2rFqB0djwmLJBoqK8ScWkKgsbG6inABSCfzZSxt8XTVfLiadUHUvQZQRMrAhir4EFCRr73bFrT2Fv/lRWQo3tLHyY76KtXQbAi4vqe3alLTuwEUesth4fyefLy+Y8RyudbgTyWVQcGgJ2E8vn/AV4Afda59E31uJofpLnQKQgW8Abvw9ywcyqWnoz/B/KcqoFgZrQ1AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTAyLTI2VDE4OjA4OjUxLTA1OjAw/MCGzQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wMi0yNlQxODowODo1MS0wNTowMI2dPnEAAAAASUVORK5CYII="},45:function(e,a,t){e.exports=t(85)},83:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(36),l=t(94),o=t(95),i=t(40),s=t(93),m=t(96),u=t(24),d=t(37),p=t.n(d),b=u.b.div({enter:{opacity:1,y:0,staggerChildren:50,beforeChildren:!0,delay:300},exit:{opacity:0,y:90,staggerChildren:20,staggerDirection:-1}}),f=t(6),h=t(28),v=t(90),g=t(91),E=t(39),k=t(88),A=t(92),N=t(89),w=t(38),y=t.n(w),F=function(e){return window.location.href.includes(e)?"active":""};function x(e){var a=e.location,t=e.history,n=e.initQuery,c=r.a.useRef(null),l=a.pathname.split("/"),o=Object(f.a)(l,3),i=(o[0],o[1]),s=o[2],m="books"==i?s||n:"",u=r.a.useState(m),d=Object(f.a)(u,2),p=d[0],b=d[1];return r.a.useEffect(function(){b(m)},[a.pathname]),r.a.useEffect(function(){var e=Object(g.a)(c.current,"input").pipe(Object(E.a)(function(e){return e.target.value}),Object(k.a)(Boolean),Object(A.a)(1e3),Object(N.a)()).subscribe(function(e){t.push("/books/".concat(e))});return function(){e.unsubscribe()}},[]),r.a.createElement("header",null,r.a.createElement("nav",{className:"row justify-content-center navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(h.a,{className:"navbar-brand text-light text-center col-lg-3 col-md-5 col-sm-12",to:"/"},r.a.createElement("img",{className:"app-logo",src:y.a,alt:"books App"}),"The Books Bank"),r.a.createElement("div",{className:"col-lg-5 col-md-6 col-sm-12"},r.a.createElement("input",{className:"form-control form-control-lg w-100",type:"search",placeholder:"Find your favorite books here ...","aria-label":"Search",ref:c,value:p,onChange:function(e){return b(e.target.value)}})),r.a.createElement("ul",{className:"navbar-nav col-lg-4 col-md-12 flex-center"},r.a.createElement("li",{className:"nav-item ".concat(F("/books"))},r.a.createElement(v.a,{className:"nav-link",to:"/books/".concat(n)},"Home")),r.a.createElement("li",{className:"nav-item ".concat(F("/favorites"))},r.a.createElement(v.a,{className:"nav-link",to:"/favorites"},"Favorites")),r.a.createElement("li",{className:"nav-item ".concat(F("/advanced-search"))},r.a.createElement(v.a,{className:"nav-link",to:"/advanced-search"},"Advanced Search")))))}var I=t(10),O=t(12),C=t(41),R=t(42),T=function(){function e(){Object(C.a)(this,e)}return Object(R.a)(e,null,[{key:"get",value:function(e){try{return JSON.parse(localStorage.getItem(e))}catch(a){return localStorage.getItem(e)}}},{key:"set",value:function(e,a){"object"===typeof a?localStorage.setItem(e,JSON.stringify(a)):localStorage.setItem(e,a)}},{key:"remove",value:function(e){localStorage.removeItem(e)}}]),e}(),j=t(17),S=t.n(j),L=t(23),P=t(29),q=t(43),B=t.n(q);function K(e){return z.apply(this,arguments)}function z(){return(z=Object(P.a)(S.a.mark(function e(a){var t,n,r,c,l,o,i;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.a)(a,3),n=t[0],r=t[1],c=t[2],l=void 0===c?null:c,e.prev=1,e.next=4,B.a[n](r,l);case 4:if(o=e.sent,!(i=o.data).error){e.next=8;break}return e.abrupt("return",i.error);case 8:if(i&&i.totalItems){e.next=10;break}return e.abrupt("return","Not found!");case 10:return e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",e.t0.message);case 16:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function Q(e,a,t,n,r,c){return J.apply(this,arguments)}function J(){return(J=Object(P.a)(S.a.mark(function e(a,t,n,r,c,l){var o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c({loading:!0,error:"",data:[],isFetching:!0}),!((o=T.get("raw_".concat(t,"_").concat(n)))&&Date.now()-o.timestamp<r)){e.next=6;break}c({loading:!1,error:"",data:T.get("".concat(t,"_").concat(n))||l(o,"".concat(t,"_").concat(n)),isFetching:!1}),e.next=10;break;case 6:return e.next=8,K(a);case 8:"string"===typeof(o=e.sent)?c({loading:!1,error:o,data:[],isFetching:!1}):(o.timestamp=Date.now(),T.set("raw_".concat(t,"_").concat(n),JSON.stringify(o)),G("".concat(t,"_").concat(n)),delete o.timestamp,c({loading:!1,error:"",data:l(o,"".concat(t,"_").concat(n)),isFetching:!1}));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var U=function(e,a){return e&&e.length>a?e.slice(0,a-3)+"...":e},Z={year:31536e6,month:2592e6,week:6048e5,day:864e5,hour:36e5,minute:6e4,second:1e3};function D(e){var a=e.key,t=e.req,r=e.timeout,c=void 0===r?Z.month:r,l=e.deps,o=void 0===l?[]:l,i=e.map,s=void 0===i?function(e){return e}:i,m=Object(n.useState)({loading:!0,error:"",data:[],isFetching:!1}),u=Object(f.a)(m,2),d=u[0],p=u[1];return Object(n.useEffect)(function(){Q(t,a,1,c,p,s)},o),d}var V=function(e,a){return e.items.map(function(e){return function(a){return{bookId:a.id,title:a.volumeInfo.title,subtitle:a.volumeInfo.subtitle,authors:a.volumeInfo.authors?a.volumeInfo.authors.join(", "):"",publisher:a.volumeInfo.publisher,publishedDate:a.volumeInfo.publishedDate,description:a.volumeInfo.description,pageCount:a.volumeInfo.pageCount,rating:a.volumeInfo.averageRating,language:a.volumeInfo.language,thumb:a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.smallThumbnail:"",thumbnail:a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.thumbnail:"",previewUrl:a.volumeInfo.previewLink,infoUrl:a.volumeInfo.infoLink,country:a.accessInfo.country,pdfLink:a.accessInfo.pdf.downloadLink,webReaderLink:a.accessInfo.webReaderLink,buyLink:a.saleInfo.buyLink,selfLink:a.selfLink,isFavorite:!1,query:e}}}(a))},G=function(e){var a=T.get("lookup");a?a.includes(e)||T.set("lookup",[].concat(Object(O.a)(a),[e])):T.set("lookup",[e])},Y=function(e){var a=e.query,t=void 0===a?"":a,n=e.search,r=void 0===n?"":n,c=e.start,l=e.pageSize;return t?["get","https://www.googleapis.com/books/v1/volumes?printType=books&maxResults=".concat(l,"&startIndex=").concat(c,"&q=").concat(t)]:["get","https://www.googleapis.com/books/v1/volumes?maxResults=".concat(l,"&startIndex=").concat(c,"&").concat(r)]},W=0,H=2;function M(){return r.a.createElement("main",{className:"text-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}var X={};function _(e){var a=e.books,t=e.favoriteHandler;return a.map(function(e){return X={pathname:"/book/".concat(e.bookId),state:e},r.a.createElement("div",{key:e.bookId,className:"col-lg-3 col-md-6 col-sm-12 mb-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header flex-between bg-primary text-light"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(h.a,{className:"text-light",to:X},U(e.title,15))),t?r.a.createElement("i",{id:e.bookId,query:e.query,className:"".concat(e.isFavorite?"fas":"far"," fa-star"),onClick:t}):null),r.a.createElement(h.a,{to:X},r.a.createElement("img",{src:e.thumb,className:"card-img-top",alt:e.title})),r.a.createElement("div",{className:"card-footer text-center"},r.a.createElement("small",{className:"text-muted d-block"},e.publisher),r.a.createElement("small",{className:"text-muted d-block"},e.country," | ",e.publishedDate," | ",e.language))))})}var $=12,ee=[];function ae(e){var a=e.match.params.query,t=D({req:Y({query:a,start:0,pageSize:$}),key:a,map:V}),c=t.loading,l=t.error,o=t.data,i=function(e){var a=e.key,t=e.pageSize,r=e.timeout,c=void 0===r?Z.month:r,l=e.map,o=void 0===l?function(e){return e}:l,i=Object(n.useState)({loading:!0,error:"",data:[],isFetching:!1}),s=Object(f.a)(i,2),m=s[0],u=s[1],d=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&u({loading:!0,error:"",data:[],isFetching:!0})};return Object(n.useEffect)(function(){return window.addEventListener("scroll",d),function(){return window.removeEventListener("scroll",d)}},[]),Object(n.useEffect)(function(){m.isFetching&&Q(Y({query:a,start:W+=t,pageSize:t}),a,H++,c,u,o)},[m.isFetching]),m}({key:a,pageSize:$,map:V}),s=i.isFetching,m=i.data,u=r.a.useState([]),d=Object(f.a)(u,2),p=d[0],b=d[1],h=r.a.useState(0),v=Object(f.a)(h,2),g=v[0],E=v[1];r.a.useEffect(function(){o.length&&(b(o),E(g+1))},[o.length]),r.a.useEffect(function(){m.length&&(b([].concat(Object(O.a)(p),Object(O.a)(m))),E(g+1))},[m.length]),r.a.useEffect(function(){p.length&&T.get("lookup").forEach(function(e){(ee=p.filter(function(a){return a.query===e})).length&&T.set(e,ee)})},[p]);return c?r.a.createElement(M,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"row justify-content-between"},l?r.a.createElement("div",{className:"alert alert-danger w-100 text-center",role:"alert"},l):r.a.createElement(_,{books:p,favoriteHandler:function(e){var a=e.target;b(p.map(function(e){return e.bookId===a.id?Object(I.a)({},e,{isFavorite:!e.isFavorite}):e}))}})),s&&r.a.createElement(M,null))}var te=[],ne=function(e,a){return function(){a(Object(I.a)({},e,{isFavorite:!e.isFavorite})),te=(te=T.get(e.query)).map(function(a){return a.bookId===e.bookId?Object(I.a)({},e,{isFavorite:!e.isFavorite}):a}),T.set(e.query,te)}};function re(e){var a=e.location,t=r.a.useState(a.state),n=Object(f.a)(t,2),c=n[0],l=n[1];return c?r.a.createElement("main",null,r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:"card-header flex-between bg-primary text-light"},r.a.createElement("h3",{className:"card-title"},c.title),r.a.createElement("i",{id:c.bookId,className:"".concat(c.isFavorite?"fas":"far"," fa-star"),onClick:ne(c,l)})),r.a.createElement("div",{className:"card-body flex-around-top"},r.a.createElement("img",{className:"flex-b-30",src:c.thumb,alt:c.title}),r.a.createElement("div",{className:"flex-b-60"},r.a.createElement("h4",{className:"card-subtitle mb-2 text-muted"},c.subtitle),r.a.createElement("p",{className:"card-text"},"Author(s): ",c.authors),r.a.createElement("p",{className:"card-text"},c.description),r.a.createElement("p",{className:"card-text"},"Publisher: ",c.publisher),r.a.createElement("p",{className:"card-text"},"Published Date: ",c.publishedDate),r.a.createElement("p",{className:"card-text"},"Country: ",c.country),r.a.createElement("p",{className:"card-text"},"Language: ",c.language),r.a.createElement("p",{className:"card-text"},"Page Count: ",c.pageCount))),r.a.createElement("div",{className:"card-footer text-center"},r.a.createElement("a",{target:"_blank",href:c.infoUrl,className:"card-link"},"More Info Link"),r.a.createElement("a",{target:"_blank",href:c.previewUrl,className:"card-link"},"Preview Link"),r.a.createElement("a",{target:"_blank",href:c.webReaderLink,className:"card-link"},"Web Reader Link"),c.pdfLink&&r.a.createElement("a",{target:"_blank",href:c.pdfLink,className:"card-link"},"PDF Link"),c.buyLink&&r.a.createElement("a",{target:"_blank",href:c.buyLink,className:"card-link"},"Buy Link")))):r.a.createElement("main",null,r.a.createElement("div",{className:"alert alert-warning w-100 text-center",role:"alert"},"Book Not Found ..."))}var ce=[],le={};function oe(e){e.match;var a=r.a.useState([]),t=Object(f.a)(a,2),n=t[0],c=t[1];r.a.useEffect(function(){T.get("lookup").forEach(function(e){c([].concat(Object(O.a)(n),Object(O.a)(T.get(e).filter(function(e){return e.isFavorite}))))})},[]);return n?r.a.createElement("main",{className:"row justify-content-center"},r.a.createElement(_,{books:n,favoriteHandler:function(e){var a=e.target;le=n.find(function(e){return e.bookId===a.id}),c(n.filter(function(e){return e.bookId!==a.id})),ce=(ce=T.get(le.query)).map(function(e){return e.bookId===le.bookId?Object(I.a)({},le,{isFavorite:!1}):e}),T.set(le.query,ce)}})):r.a.createElement("main",null,r.a.createElement("div",{className:"alert alert-warning w-100 text-center",role:"alert"},"Favorite Books Not Found ..."))}var ie="";function se(e){var a=e.history,t=function(e){var a=Object(n.useState)(e),t=Object(f.a)(a,2),r=t[0],c=t[1];return{state:r,changeHandler:function(e){var a=e.target;c(Object(I.a)({},r,Object(L.a)({},a.name,a.value)))},submitHandler:function(e){return function(a){a.preventDefault(),e(r)}}}}({title:"",author:"",publisher:"",subject:"",isbn:"",downloadFormat:"",filter:"",printType:""}),c=t.state,l=t.changeHandler,o=t.submitHandler;return r.a.createElement("main",null,r.a.createElement("h3",null,"Advanced Search"),r.a.createElement("hr",null),r.a.createElement("form",{className:"row",onSubmit:o(function(e){var t=e.title,n=e.author,r=e.publisher,c=e.subject,l=e.isbn,o=e.downloadFormat,i=e.filter,s=e.printType;ie="",t&&(ie+="q=intitle:".concat(e.title)),n&&(ie+=ie?"+inauthor:".concat(n):"q=inauthor:".concat(n)),r&&(ie+=ie?"+inpublisher:".concat(r):"q=inpublisher:".concat(r)),c&&(ie+=ie?"+subject:".concat(c):"q=subject:".concat(c)),l&&(ie+=ie?"+isbn:".concat(l):"q=isbn:".concat(l)),o&&(ie+="&download=".concat(o)),i&&(ie+="&filter=".concat(i)),s&&(ie+="&printType=".concat(s)),a.push("/search-result/".concat(ie))})},r.a.createElement("div",{className:"col-lg-6 col-md-12"},r.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Title",name:"title",value:c.title,onChange:l}),r.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Author",name:"author",value:c.author,onChange:l}),r.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Publisher",name:"publisher",value:c.publisher,onChange:l}),r.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Subject",name:"subject",value:c.subject,onChange:l}),r.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"ISBN",name:"isbn",value:c.isbn,onChange:l})),r.a.createElement("div",{className:"col-lg-6 col-md-12"},r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",null,"Download Format:"),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"epub",type:"checkbox",name:"downloadFormat",value:"epub",checked:"epub"===c.downloadFormat,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"epub"},"epub"))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",null,"Payment And Preview Ability:"),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"full-preview",type:"radio",name:"filter",value:"full",checked:"full"===c.filter,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"full-preview"},"full-preview")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"partial-preview",type:"radio",name:"filter",value:"partial",checked:"partial"===c.filter,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"partial-preview"},"partial-preview")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"free-ebooks",type:"radio",name:"filter",value:"free-ebooks",checked:"free-ebooks"===c.filter,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"free-ebooks"},"free-ebooks")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"paid-ebooks",type:"radio",name:"filter",value:"paid-ebooks",checked:"paid-ebooks"===c.filter,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"paid-ebooks"},"paid-ebooks")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"ebooks",type:"radio",name:"filter",value:"ebooks",checked:"ebooks"===c.filter,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"ebooks"},"ebooks (free+paid+full-preview)"))),r.a.createElement("div",{className:"mb-2"},r.a.createElement("div",null,"Print Type:"),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"all",type:"radio",name:"printType",value:"all",checked:"all"===c.printType,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"all"},"all")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"books",type:"radio",name:"printType",value:"books",checked:"books"===c.printType,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"books"},"books")),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",id:"magazines",type:"radio",name:"printType",value:"magazines",checked:"magazines"===c.printType,onChange:l}),r.a.createElement("label",{className:"form-check-label",htmlFor:"magazines"},"magazines")))),r.a.createElement("button",{className:"btn btn-primary btn-lg w-25 mx-auto"},"Search")))}function me(e){var a=e.match.params.search,t=D({req:Y({search:a,start:0,pageSize:40}),key:a,map:V}),n=t.loading,c=t.error,l=t.data;return n?r.a.createElement(M,null):r.a.createElement("main",{className:"row justify-content-center"},c?r.a.createElement("div",{className:"alert alert-danger w-100 text-center",role:"alert"},c):r.a.createElement(_,{books:l,favoriteHandler:null}))}t(83);var ue="birds";var de=Object(m.a)(function(e){var a=e.location,t=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{location:a,history:t,initQuery:ue}),r.a.createElement("div",{className:"container"},r.a.createElement(u.a,null,r.a.createElement(b,{key:p.a.generate()},r.a.createElement(o.a,{location:a},r.a.createElement(i.a,{path:"/books/:query",component:ae}),r.a.createElement(i.a,{path:"/book/:id",component:re}),r.a.createElement(i.a,{path:"/favorites",component:oe}),r.a.createElement(i.a,{path:"/advanced-search",component:se}),r.a.createElement(i.a,{path:"/search-result/:search",component:me}),r.a.createElement(s.a,{to:"/books/".concat(ue)}))))))});t(84);Object(c.render)(r.a.createElement(l.a,null,r.a.createElement(de,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.056d05ac.chunk.js.map